function CartItemCount(){let url=$("#desktopCartButton").data("url");var count=0;return $.ajax({url:url,type:"POST",data:{_token:$('meta[name="csrf-token"]').attr("content")},success:function(response){count=response.count,$("#cartIconBox").text(count)},error:function(xhr){toastr.error("Error loading cart count.")}}),count}function AddToCart(button,quantity=1,color=null,size=null){let url=$(button).data("url");$.ajax({url:url,type:"POST",data:{_token:$('meta[name="csrf-token"]').attr("content"),color:color,size:size,quantity:quantity},success:function(response){toastr.success(response.success),CartItemCount()},error:function(xhr){toastr.error(xhr.responseJSON?.error||"An error occurred while adding the product.")}})}$(document).ready((function(){CartItemCount()}));